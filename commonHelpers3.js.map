{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-feedback.js"],"sourcesContent":["import throttle from 'lodash.throttle';\nconst form = document.querySelector('.feedback-form');\n\nconst localStorageKey = 'feedback-form-state';\n\nlet formData = {};\n\nform.addEventListener('input', throttle(handlerForm, 500));\n\nfunction handlerForm(event) {\n  formData[event.target.name] = event.target.value;\n  localStorage.setItem(localStorageKey, JSON.stringify(formData));\n}\n\nform.addEventListener('submit', handlerBut);\n\nfunction handlerBut(evt) {\n  evt.preventDefault();\n  const formElement = evt.target.elements;\n  const email = formElement.email.value;\n  const message = formElement.message.value;\n  const data = {\n    email,\n    message,\n  };\n  if (email === '' || message === '') {\n    return alert('Please fill in all the fields!');\n  }\n  formData = {};\n  evt.currentTarget.reset();\n  console.log(data);\n  localStorage.removeItem(localStorageKey);\n}\n\nfunction loadFormData() {\n  const savedData = localStorage.getItem(localStorageKey);\n  if (savedData) {\n    formData = JSON.parse(savedData);\n    for (let key in formData) {\n      form[key].value = formData[key];\n    }\n  }\n}\nloadFormData();\n"],"names":["form","localStorageKey","formData","throttle","handlerForm","event","handlerBut","evt","formElement","email","message","data","loadFormData","savedData","key"],"mappings":"wIACA,MAAMA,EAAO,SAAS,cAAc,gBAAgB,EAE9CC,EAAkB,sBAExB,IAAIC,EAAW,CAAA,EAEfF,EAAK,iBAAiB,QAASG,EAASC,EAAa,GAAG,CAAC,EAEzD,SAASA,EAAYC,EAAO,CAC1BH,EAASG,EAAM,OAAO,IAAI,EAAIA,EAAM,OAAO,MAC3C,aAAa,QAAQJ,EAAiB,KAAK,UAAUC,CAAQ,CAAC,CAChE,CAEAF,EAAK,iBAAiB,SAAUM,CAAU,EAE1C,SAASA,EAAWC,EAAK,CACvBA,EAAI,eAAc,EAClB,MAAMC,EAAcD,EAAI,OAAO,SACzBE,EAAQD,EAAY,MAAM,MAC1BE,EAAUF,EAAY,QAAQ,MAC9BG,EAAO,CACX,MAAAF,EACA,QAAAC,CACJ,EACE,GAAID,IAAU,IAAMC,IAAY,GAC9B,OAAO,MAAM,gCAAgC,EAE/CR,EAAW,CAAA,EACXK,EAAI,cAAc,QAClB,QAAQ,IAAII,CAAI,EAChB,aAAa,WAAWV,CAAe,CACzC,CAEA,SAASW,GAAe,CACtB,MAAMC,EAAY,aAAa,QAAQZ,CAAe,EACtD,GAAIY,EAAW,CACbX,EAAW,KAAK,MAAMW,CAAS,EAC/B,QAASC,KAAOZ,EACdF,EAAKc,CAAG,EAAE,MAAQZ,EAASY,CAAG,CAEjC,CACH,CACAF,EAAc"}